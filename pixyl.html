<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YMCA Dashboard</title>
<style>
  body { margin:0; font-family: Arial, sans-serif; background: #f5f5f5; }
  .container { display: flex; height: 100vh; }
  .main { flex: 3; display: flex; justify-content: center; align-items: center; background: #000; }
  video { max-width: 100%; max-height: 100%; }
  .sidebar { flex: 1; background: #222; color: #fff; padding: 20px; display: flex; flex-direction: column; }
  .weather { margin-bottom: 20px; }
  .schedule ul { list-style: none; padding: 0; }
  .ticker { position: fixed; bottom: 0; width: 100%; background: #333; color: #fff; padding: 10px 0; overflow: hidden; white-space: nowrap; }
  .ticker span { display: inline-block; padding-left: 100%; animation: scroll 15s linear infinite; }
  @keyframes scroll { 0% { transform: translateX(0%); } 100% { transform: translateX(-100%); } }
</style>
</head>
<body>

<div class="container">
  <div class="main">
    <video id="video" autoplay muted loop></video>
  </div>
  <div class="sidebar">
    <div class="weather">
      <h3>Weather</h3>
      <p>Temp: <span id="temperature"></span></p>
      <p>Condition: <span id="condition"></span></p>
      <p>Wind: <span id="wind"></span></p>
    </div>
    <div class="schedule">
      <h3>Schedule</h3>
      <ul id="schedule"></ul>
    </div>
  </div>
</div>

<div class="ticker"><span id="ticker"></span></div>

<script>
// Fetch JSON from GitHub Pages
fetch('dashboard-data.json')
  .then(res => res.json())
  .then(data => {
    document.getElementById('video').src = data.videoUrl;
    document.getElementById('temperature').innerText = data.temperature + 'Â°C';
    document.getElementById('condition').innerText = data.condition;
    document.getElementById('wind').innerText = data.wind;

    document.getElementById('ticker').innerText = data.ticker;

    const scheduleList = document.getElementById('schedule');
    scheduleList.innerHTML = '';
    data.schedule.forEach(item => {
      const li = document.createElement('li');
      li.innerText = item.time + ' - ' + item.event;
      scheduleList.appendChild(li);
    });
  })
  .catch(err => console.error('Error fetching dashboard data:', err));
</script>

</body>
</html>
