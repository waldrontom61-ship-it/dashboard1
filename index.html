<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YMCA Dashboard</title>
<style>
/* ================= Basic Reset ================= */
*{margin:0;padding:0;box-sizing:border-box;}
html,body{height:100%;overflow:hidden;font-family:system-ui, -apple-system, sans-serif;}
body{background:#000;color:#fff;}

/* ================= Layout ================= */
.main-layout{display:flex;height:100vh;}
.content-area{width:70%;background:#111827;position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden;}
.sidebar-overlay{width:30%;height:100vh;background:linear-gradient(to bottom,#dc2626,#991b1b);display:flex;flex-direction:column;overflow:hidden;}
.sidebar-header{text-align:center;padding:1rem;background:rgba(0,0,0,0.3);}
.sidebar-logo{max-width:200px;height:auto;margin-bottom:0.5rem;}
.sidebar-title{font-size:1.5rem;font-weight:bold;margin-bottom:0.5rem;}
.content-section{flex:1;padding:1rem;display:flex;flex-direction:column;overflow:hidden;}
.classes-section,.announcements-section{margin-bottom:1rem;}
.section-title{font-size:1rem;font-weight:bold;margin-bottom:0.75rem;text-align:center;border-bottom:1px solid rgba(255,255,255,0.3);}
.info-card{background:rgba(255,255,255,0.2);border-radius:0.5rem;padding:0.5rem;margin-bottom:0.5rem;backdrop-filter:blur(10px);}
.media-container{position:relative;width:100%;height:100%;overflow:hidden;}
.media-slide{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;transition:opacity 1s ease-in-out;display:flex;align-items:center;justify-content:center;}
.media-slide.active{opacity:1;}
.media-slide img, .media-slide video{width:100%;height:100%;object-fit:cover;}
.announcement-container{position:relative;height:80px;overflow:hidden;border-radius:0.5rem;}
.announcement-slide{position:absolute;top:0;left:0;width:100%;padding:0.75rem;border-radius:0.5rem;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);opacity:0;transform:translateY(20px);transition:all 0.5s ease-in-out;}
.announcement-slide.active{opacity:1;transform:translateY(0);}
.urgent-announcement{background:linear-gradient(135deg,#dc2626,#991b1b);border:2px solid #ef4444;}
.warning-announcement{background:linear-gradient(135deg,#f59e0b,#d97706);border:2px solid #fbbf24;}
.good-announcement{background:linear-gradient(135deg,#059669,#047857);border:2px solid #10b981;}
.sidebar-footer{background:#7f1d1d;padding:1rem;display:flex;justify-content:space-between;align-items:center;border-top:1px solid rgba(255,255,255,0.2);}
.footer-time{font-size:0.875rem;font-weight:600;}
.footer-date{font-size:0.75rem;opacity:0.8;margin-top:0.25rem;}
.footer-weather{display:flex;align-items:center;gap:0.5rem;font-size:0.875rem;}
.footer-weather-icon{font-size:1.25rem;}
</style>
</head>
<body>

<!-- Main Layout -->
<div class="main-layout">
  <div class="content-area">
    <div class="media-container" id="media-container"></div>
  </div>
  <div class="sidebar-overlay">
    <div class="sidebar-header">
      <img src="https://ymcasaskatoon.org/wp-content/uploads/2022/06/Shine-On_Horiz_white_RGB_Saskatoon-scaled.png" alt="YMCA Logo" class="sidebar-logo" onerror="this.style.display='none'; document.getElementById('gymNameDisplay').style.display='block';">
      <h2 class="sidebar-title" id="gymNameDisplay" style="display:none;">YMCA of Saskatoon</h2>
    </div>
    <div class="content-section">
      <div class="classes-section">
        <h3 class="section-title">üïê TODAY'S CLASSES</h3>
        <div id="classes-container"></div>
      </div>
      <div class="announcements-section">
        <h3 class="section-title">üì¢ ANNOUNCEMENTS</h3>
        <div class="announcement-container" id="announcement-container"></div>
      </div>
    </div>
    <div class="sidebar-footer">
      <div>
        <div class="footer-time" id="currentTime"></div>
        <div class="footer-date" id="currentDate"></div>
      </div>
      <div class="footer-weather" id="weather-display">
        <span class="footer-weather-icon" id="weather-icon">‚õÖ</span>
        <span id="weather-temp">--¬∞C</span>
      </div>
    </div>
  </div>
</div>

<script>
// ================= JSON DATA =================
const dashboardData = {
  "settings": {"gymName":"YMCA of Saskatoon","rotationSpeed":4,"mediaRotationSpeed":8},
  "media":[{"type":"video","src":"https://drive.google.com/uc?export=download&id=1kW5HyV6pcuiRAv1byuyZGMvnbXilekqT","duration":163,"permanent":true}],
  "weekly_schedule":{
    "Monday":[{"time":"9:00 AM - 9:45 AM","event":"NEW CLASS OCT 20Y-Cycle","location":"Cycle Studio","instructor":"Sarah"},{"time":"9:00 AM - 9:45 AM","event":"Aquafit","location":"Pool","instructor":"Mike"},{"time":"10:00 AM - 10:45 AM","event":"NEW CLASS OCT 20 Tabata Blast","location":"Studio A","instructor":"Jessica"},{"time":"12:10 PM - 12:50 PM","event":"Y-Fit Circuit","location":"Gym Floor","instructor":"David"},{"time":"6:15 PM - 7:30 PM","event":"Beginner Yoga","location":"Studio B","instructor":"Emma"}],
    "Tuesday":[{"time":"8:00 AM - 8:45 AM","event":"Active Aging with Fred Dyck","location":"Studio A","instructor":"Fred Dyck"},{"time":"9:00 AM - 9:45 AM","event":"Aquafit","location":"Pool","instructor":"Mike"},{"time":"12:10 PM - 12:50 PM","event":"Step","location":"Studio A","instructor":"Lisa"},{"time":"1:30 PM - 2:15 PM","event":"Aquafit","location":"Pool","instructor":"Sarah"}],
    "Wednesday":[{"time":"9:00 AM - 9:45 AM","event":"Aquafit","location":"Pool","instructor":"Mike"},{"time":"12:10 PM - 12:50 PM","event":"Y-Fit Full Body with Kris Seto Davis","location":"Gym Floor","instructor":"Kris Seto Davis"}],
    "Thursday":[{"time":"6:15 AM - 7:00 AM","event":"Strength, Sweat & Stretch","location":"Studio A","instructor":"Tom"},{"time":"8:00 AM - 8:45 AM","event":"Active Aging with Fred Dyck","location":"Studio A","instructor":"Fred Dyck"},{"time":"9:00 AM - 9:45 AM","event":"Aquafit","location":"Pool","instructor":"Mike"},{"time":"12:10 PM - 12:50 PM","event":"Bootcamp","location":"Outdoor/Studio A","instructor":"Jessica"},{"time":"1:30 PM - 2:15 PM","event":"Aquafit","location":"Pool","instructor":"Sarah"},{"time":"7:00 PM - 7:45 PM","event":"OCT 16 Aquastep","location":"Pool","instructor":"Lisa"}],
    "Friday":[{"time":"9:00 AM - 9:45 AM","event":"NEW CLASS OCT 24 Core & More","location":"Studio B","instructor":"Emma"},{"time":"9:00 AM - 9:45 AM","event":"Aquafit","location":"Pool","instructor":"Mike"},{"time":"10:00 AM - 10:45 AM","event":"NEW CLASS OCT 20 Tabata Blast","location":"Studio A","instructor":"Jessica"},{"time":"12:10 PM - 12:50 PM","event":"Spin","location":"Studio","instructor":"Peggy"},{"time":"12:00 PM - 1:30 PM","event":"Pickleball","location":"Gymnasium","instructor":"Fred Dyck"}],
    "Saturday":[{"time":"8:00 AM - 8:45 AM","event":"NEW CLASS OCT 25 Y-Cycle","location":"Cycle Studio","instructor":"Sarah"},{"time":"10:00 AM - 11:00 AM","event":"Energizing Yoga","location":"Studio B","instructor":"Emma"},{"time":"1:30 PM - 2:15 PM","event":"Aquafit","location":"Pool","instructor":"Mike"}],
    "Sunday":[]
  },
  "announcements":[{"id":1,"title":"üèä Pool Hours","message":"Open swim available daily","details":"6 AM - 10 PM Monday-Friday, 8 AM - 8 PM weekends","severity":"good","permanent":true},{"id":2,"title":"üì± Download Our App","message":"Book classes and track workouts","details":"Available on iOS and Android","severity":"good","permanent":true}]
};

// ================= Render Today's Classes =================
function renderClasses(){
  const container = document.getElementById('classes-container');
  container.innerHTML='';
  const todayName = new Date().toLocaleDateString('en-US',{weekday:'long'});
  const todayClasses = dashboardData.weekly_schedule[todayName]||[];
  todayClasses.forEach(c=>{
    const div=document.createElement('div');
    div.className='info-card';
    div.innerHTML=`<strong>${c.event}</strong><br>${c.time} | ${c.location}<br>Instructor: ${c.instructor}`;
    container.appendChild(div);
  });
}

// ================= Render Announcements =================
function renderAnnouncements(){
  const container=document.getElementById('announcement-container');
  container.innerHTML='';
  dashboardData.announcements.forEach(a=>{
    const div=document.createElement('div');
    div.className='announcement-slide '+(a.severity==='urgent'?'urgent-announcement':a.severity==='warning'?'warning-announcement':'good-announcement');
    div.innerHTML=`<strong>${a.title}</strong><br>${a.message}<br><small>${a.details||''}</small>`;
    container.appendChild(div);
  });
}

// ================= Render Media =================
function renderMedia(){
  const container=document.getElementById('media-container');
  container.innerHTML='';
  dashboardData.media.forEach((m,i)=>{
    const div=document.createElement('div');
    div.className='media-slide'+(i===0?' active':'');
    if(m.type==='video'){
      div.innerHTML=`<video src="${m.src}" autoplay muted loop></video>`;
    } else {
      div.innerHTML=`<img src="${m.src}" alt="media">`;
    }
    container.appendChild(div);
  });
}

// ================= Footer Clock =================
function updateClock(){
  const now=new Date();
  const options={weekday:'long',month:'short',day:'numeric'};
  document.getElementById('currentTime').textContent=now.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'});
  document.getElementById('currentDate').textContent=now.toLocaleDateString('en-US',options);
}
setInterval(updateClock,1000);
updateClock();

// ================= Media Rotation =================
let mediaIndex=0;
setInterval(()=>{
  const slides=document.querySelectorAll('.media-slide');
  slides.forEach(s=>s.classList.remove('active'));
  mediaIndex=(mediaIndex+1)%slides.length;
  slides[mediaIndex].classList.add('active');
},dashboardData.settings.mediaRotationSpeed*1000);

// ================= Announcement Rotation =================
let announcementIndex=0;
setInterval(()=>{
  const slides=document.querySelectorAll('.announcement-slide');
  slides.forEach(s=>s.classList.remove('active'));
  if(slides.length){
    slides[announcementIndex].classList.add('active');
    announcementIndex=(announcementIndex+1)%slides.length;
  }
},dashboardData.settings.rotationSpeed*1000);

// ================= Initial Render =================
renderClasses();
renderAnnouncements();
renderMedia();
</script>
</body>
</html>
