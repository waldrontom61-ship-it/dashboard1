<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YMCA Dashboard</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    overflow-x: hidden;
  }

  /* Main video area */
  #main-area {
    width: 70%;
    float: left;
    height: 100vh;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 2rem;
  }

  video {
    max-width: 100%;
    max-height: 100%;
  }

  /* Sidebar */
  #sidebar {
    width: 30%;
    float: right;
    background-color: #e00034;
    color: white;
    height: 100vh;
    display: flex;
    flex-direction: column;
    padding: 20px;
    box-sizing: border-box;
  }

  #sidebar-header {
    text-align: center;
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 20px;
  }

  #weather {
    margin-bottom: 20px;
    text-align: center;
  }

  #schedule {
    list-style: none;
    padding: 0;
    flex-grow: 1;
    margin-bottom: 20px;
  }

  #schedule li {
    padding: 10px;
    border-bottom: 1px solid rgba(255,255,255,0.2);
    text-align: center;
  }

  /* Quote slider */
  #quote-slider {
    text-align: center;
    font-size: 16px;
    font-style: italic;
    margin-bottom: 20px;
    min-height: 50px;
    line-height: 1.5;
  }

  /* Logo at bottom */
  #logo-container {
    text-align: center;
    margin-top: auto;
    margin-bottom: 20px;
  }

  #logo {
    width: 80%;
    max-width: 150px;
  }
</style>
</head>
<body>

<!-- Main Area -->
<div id="main-area">
  <video id="video" autoplay muted loop></video>
</div>

<!-- Sidebar -->
<div id="sidebar">
  <h2 id="sidebar-header">YMCA of Saskatoon Schedule</h2>

  <div id="weather">
    <p>Temp: <span id="temperature"></span></p>
    <p>Condition: <span id="condition"></span></p>
    <p>Wind: <span id="wind"></span></p>
  </div>

  <ul id="schedule"></ul>

  <!-- Quote slider -->
  <div id="quote-slider"></div>

  <div id="logo-container">
    <img id="logo" src="https://ymcasaskatoon.org/wp-content/uploads/2022/06/Shine-On_Horiz_white_RGB_Saskatoon-scaled.png" alt="YMCA Logo">
  </div>
</div>

<script>
  // Fetch JSON from GitHub Pages or hosted file
  fetch('dashboard-data.json')
    .then(res => res.json())
    .then(data => {
      // Video
      document.getElementById('video').src = data.videoUrl;

      // Weather
      document.getElementById('temperature').innerText = data.temperature + 'Â°C';
      document.getElementById('condition').innerText = data.condition;
      document.getElementById('wind').innerText = data.wind;

      // Schedule
      const scheduleList = document.getElementById('schedule');
      scheduleList.innerHTML = '';
      data.schedule.forEach(item => {
        const li = document.createElement('li');
        li.innerText = item.time + ' - ' + item.event;
        scheduleList.appendChild(li);
      });

      // Quotes/Slider (use ticker field for messages)
      const quotes = data.ticker.split('|').map(q => q.trim());
      const slider = document.getElementById('quote-slider');
      let current = 0;

      function showQuote() {
        slider.textContent = quotes[current];
        current = (current + 1) % quotes.length;
      }

      showQuote(); // show first quote immediately
      setInterval(showQuote, 5000); // rotate every 5s
    })
    .catch(err => console.error('Error fetching dashboard data:', err));
</script>

</body>
</html>


